<nav class="navbar">
  <div class="navbar-brand">
    <h1 (click)="goToCalendar()" class="clickable-title">ðŸ“… Todo Calendar</h1>
  </div>
  
  <div class="navbar-actions">
    <!-- Notifications Bell -->
    <div class="notification-container">
      <button 
        class="notification-btn"
        (click)="toggleNotifications()"
        [class.has-notifications]="unreadCount > 0"
        title="Notifications"
      >
        <mat-icon>notifications</mat-icon>
        <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount }}</span>
      </button>
      
      <!-- Notifications Dropdown -->
      <div 
        class="notifications-dropdown"
        [class.show]="showNotifications"
      >
        <div class="notifications-header">
          <h3>Notifications</h3>
          <button 
            class="mark-all-read-btn"
            (click)="markAllAsRead()"
            *ngIf="unreadCount > 0"
          >
            Mark all as read
          </button>
        </div>
        
        <div class="notifications-list">
          <div 
            *ngFor="let notification of notifications" 
            class="notification-item"
            [class.unread]="!notification.isRead"
            [ngClass]="getNotificationClass(notification.type)"
          >
            <div class="notification-content">
              <div class="notification-icon">
                <mat-icon>{{ getNotificationIcon(notification.type) }}</mat-icon>
              </div>
              <div class="notification-details">
                <p class="notification-task">{{ notification.task }}</p>
                <p class="notification-meta">
                  {{ getNotificationText(notification.type) }} â€¢ 
                  {{ notification.date.toLocaleDateString() }}
                </p>
              </div>
            </div>
            <div class="notification-actions">
              <button 
                class="mark-read-btn"
                (click)="markAsRead(notification.id)"
                *ngIf="!notification.isRead"
                title="Mark as read"
              >
                <mat-icon>check</mat-icon>
              </button>
              <button 
                class="remove-btn"
                (click)="removeNotification(notification.id)"
                title="Remove notification"
              >
                <mat-icon>close</mat-icon>
              </button>
            </div>
          </div>
          
          <div *ngIf="notifications.length === 0" class="no-notifications">
            <p>No notifications</p>
            <small>You're all caught up! ðŸŽ‰</small>
          </div>
        </div>
      </div>
    </div>
    
    <!-- User Profile -->
    <div class="user-profile" *ngIf="isAuthenticated; else authButtons">
      <div class="user-info">
        <span class="user-name">{{ currentUser?.name }}</span>
        <button class="logout-btn" (click)="signOut()" title="Sign Out">
          <mat-icon>logout</mat-icon>
        </button>
      </div>
    </div>
    
    <!-- Authentication Buttons -->
    <ng-template #authButtons>
      <div class="auth-buttons">
        <a routerLink="/sign-in" class="auth-btn sign-in-btn" title="Sign In">
          <mat-icon>login</mat-icon>
        </a>
        <a routerLink="/sign-up" class="auth-btn sign-up-btn" title="Sign Up">
          <mat-icon>person_add</mat-icon>
        </a>
      </div>
    </ng-template>
  </div>
</nav>

